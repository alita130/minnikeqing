(function(){"use strict";var e={5137:function(e,t,i){var n=i(6369),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],r={name:"App",components:{}},a=r,l=i(1001),c=(0,l.Z)(a,s,o,!1,null,null,null),h=c.exports,u=i(2631),f=function(){var e=this,t=e._self._c;return t("div",{ref:"container",staticClass:"container",attrs:{tabindex:"0"},on:{click:e.handleClick,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"e",void 0,t.key,void 0)?null:e.emitKeyEvent.apply(null,arguments)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"w",void 0,t.key,void 0)?null:(t.preventDefault(),e.moveUp.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"s",void 0,t.key,void 0)?null:(t.preventDefault(),e.moveDown.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"a",void 0,t.key,void 0)?null:(t.preventDefault(),e.moveLeft.apply(null,arguments))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"d",void 0,t.key,void 0)?null:(t.preventDefault(),e.moveRight.apply(null,arguments))}]}},[t("audio",{ref:"audioPlayer"}),t("audio",{ref:"zhanjiAudioPlayer"}),t("p",{staticClass:"p1"},[e._v("欢迎试玩小小刻晴")]),t("div",{attrs:{id:"subtitle-seperator"}}),t("p",{staticClass:"p2"},[e._v("wasd控制移动,单击鼠标释放雷楔,雷楔存在时按e使用元素战技也可以双击鼠标左键,点击刻晴释放元素爆发")]),t("img",{directives:[{name:"show",rawName:"v-show",value:!e.isDisplay,expression:"!isDisplay"}],ref:"kq1",staticClass:"kq1",attrs:{id:e.id,src:e.src},on:{click:function(t){e.isDisplay=!1,e.startTimer()}}}),e.isDisplay?t("img",{ref:"kq2",staticClass:"kq2",staticStyle:{width:"128px"},attrs:{src:e.boomSrc}}):e._e(),t("img",{directives:[{name:"show",rawName:"v-show",value:e.showleixie,expression:"showleixie"}],ref:"leixie",staticClass:"leixie",attrs:{src:i(3335),alt:""}})])},p=[],d=(i(7658),{data(){return{id:1,src:i(2322),boomSrc:i(2464),isDisplay:!1,musicFiles:[{name:"元素爆发其一",src:"yuansubaofa1.mp3"},{name:"元素爆发其二",src:"yuansubaofa2.mp3"},{name:"元素爆发其三",src:"yuansubaofa3.mp3"}],zhanjiAudio:[{name:"元素战技其一",src:"yuansuzhanji1.mp3"},{name:"元素战技其二·",src:"yuansuzhanji2.mp3"},{name:"元素战技其三",src:"yuansuzhanji3.mp3"},{name:"元素战技其四",src:"yuansuzhanji4.mp3"},{name:"元素战技其五",src:"yuansuzhanji5.mp3"}],currentMusicIndex:0,isPlaying:!1,currentTime:0,lastClickTime:0,ischange:0,showleixie:!1,clearleixie:!1,leixietimerId:""}},methods:{async sleep(e){return new Promise((t=>setTimeout(t,e)))},async startTimer(){console.log("触发技能1"),this.clearleixie=!0;const e=document.getElementById(this.id);e.classList.contains("enlarged")&&e.classList.remove("enlarged"),e.classList.add("enlarged"),await this.sleep(1e3),this.isDisplay=!0,console.log("触发技能2"),this.clearleixie=!1,e.classList.remove("enlarged"),await this.sleep(500),this.playNext("audioPlayer",this.musicFiles),await this.sleep(4200),this.isDisplay=!1},playMusic(e,t){const i=this.$refs[e];i.src=t[this.currentMusicIndex].src,i.currentTime=this.currentTime,this.musicname=t[this.currentMusicIndex].name,i.play(),this.musicClass="fas fa-music fa-spin fa-lg",this.isPlaying=!0},plaint(e,t,i,n){const s=e,o=t,r=i,a=n,l=[],c=30;for(let u=0;u<c;u++){const e=s+u/c*(r-s),t=o+u/c*(a-o);l.push({x:e,y:t})}let h=5;l.forEach((e=>{setTimeout((()=>{const t=document.createElement("div");t.className="particle",t.style.left=e.x+"px",t.style.top=e.y+"px",this.$refs.container.appendChild(t),setTimeout((()=>{this.$refs.container.removeChild(t)}),900)}),h),h+=7}))},playNext(e,t){this.currentMusicIndex=(this.currentMusicIndex+1)%t.length,this.currentTime=0,this.iconClsss="far fa-pause-circle fa-lg",this.playMusic(e,t)},moveElement(e){var t=this.$refs.kq1,i=t.getBoundingClientRect();this.playNext("zhanjiAudioPlayer",this.zhanjiAudio);var n=e.clientX,s=e.clientY;this.plaint(i.left,i.top,n+10,s+20),this.changedirect(i.left,n),console.log(n),t.style.left=n+"px",t.style.top=s+"px"},moveleixie(e){if(this.leixietimerId&&clearTimeout(this.leixietimerId),console.log("触发雷楔"+this.isDisplay),!this.clearleixie){this.showleixie=!1;var t=e.clientX,i=e.clientY,n=this.$refs.leixie;n.style.left=t+"px",n.style.top=i+"px",this.showleixie=!0;var s=this.$refs.kq1,o=s.getBoundingClientRect();this.changedirect(o.left,t),this.leixietimerId=setTimeout((()=>{this.showleixie=!1}),3e3)}},handleClick(e){console.log(e.button),0==e.button&&this.moveleixie(e),2==e.button&&this.showleixie&&this.pointClick;const t=(new Date).getTime();t-this.lastClickTime<300&&(this.moveElement(e),this.showleixie=!1),this.lastClickTime=t},emitKeyEvent(e){if(this.showleixie){console.log("jin"),this.playNext("zhanjiAudioPlayer",this.zhanjiAudio);var t=this.$refs.leixie,i=t.style.left,n=t.style.top,s=t.getBoundingClientRect();console.log(i);var o=this.$refs.kq1,r=o.getBoundingClientRect();this.plaint(r.left,r.top,s.left+10,s.top+20),this.changedirect(r.left,s.left),o.style.left=i,o.style.top=n}},changedirect(e,t){this.src=e<t?"weaponright.gif":"weapon.gif"},changeSrc(){setInterval((()=>{console.log(this.src),"/img/weapon.05a06542.gif"!==this.src&&"weapon.gif"!==this.src||(this.src="clothes.gif"),console.log(this.src),console.log("变装"),"weaponright.gif"===this.src&&(this.src="clothesright.gif"),this.ischange=(new Date).getTime()}),15e3)},moveUp(){this.moveBox(0,-5)},moveDown(){this.moveBox(0,5)},moveLeft(){this.moveBox(-5,0),this.src="weapon.gif"},moveRight(){this.moveBox(5,0),this.src="weaponright.gif"},moveBox(e,t){const i=this.$refs.kq1,n=this.$refs.container,s=i.getBoundingClientRect(),o=n.getBoundingClientRect(),r=s.left+e,a=s.top+t;r>=o.left&&r+s.width<=o.right&&a>=o.top&&a+s.height<=o.bottom&&(i.style.left=r+"px",i.style.top=a+"px")}},mounted(){this.changeSrc(),this.$refs.container.focus()},watch:{async ischange(e,t){e&&(await this.sleep(7e3),"clothes.gif"===this.src&&(this.src="weapon.gif"),"clothesright.gif"===this.src&&(this.src="weaponright.gif"))}}}),m=d,y=(0,l.Z)(m,f,p,!1,null,null,null),g=y.exports,v=function(){var e=this,t=e._self._c;return t("canvas",{ref:"canvas",staticStyle:{width:"100%",height:"100%"}})},x=[],w={name:"Test",mounted(){this.drawParticles()},methods:{drawParticles(){const e=this.$refs.canvas,t=e.getContext("2d"),i={x:50,y:50},n={x:200,y:150},s=50,o=[];for(let a=0;a<s;a++)o.push({x:i.x,y:i.y,vx:2*(2*Math.random()-1),vy:2*(2*Math.random()-1),size:4*Math.random(),color:"#ff0000"});function r(){t.clearRect(0,0,e.width,e.height),o.forEach((s=>{t.beginPath(),t.arc(s.x,s.y,s.size,0,2*Math.PI),t.fillStyle=s.color,t.fill(),s.x+=s.vx,s.y+=s.vy,(s.x<0||s.x>e.width||s.y<0||s.y>e.height)&&(s.x=i.x,s.y=i.y);const o=n.x-s.x,r=n.y-s.y,a=Math.sqrt(o*o+r*r);a<50?(s.vx=o/a*3,s.vy=r/a*3):(s.vx+=.1*(2*Math.random()-1),s.vy+=.1*(2*Math.random()-1))})),t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(n.x,n.y),t.strokeStyle="#ff0000",t.stroke(),requestAnimationFrame(r)}r()}}},k=w,b=(0,l.Z)(k,v,x,!1,null,null,null),C=b.exports;n.ZP.use(u.ZP);var T=new u.ZP({mode:"history",base:"/minnikeqing/",routes:[{path:"/",component:g,children:[{path:"test",component:C}]}]});n.ZP.config.productionTip=!1,new n.ZP({render:e=>e(h),router:T}).$mount("#app")},3335:function(e,t,i){e.exports=i.p+"img/leixie.0b46b4b5.gif"},2322:function(e,t,i){e.exports=i.p+"img/weapon.05a06542.gif"},2464:function(e,t,i){e.exports=i.p+"img/yuansubaofa.c15e6162.gif"}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,n,s,o){if(!n){var r=1/0;for(h=0;h<e.length;h++){n=e[h][0],s=e[h][1],o=e[h][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(a=!1,o<r&&(r=o));if(a){e.splice(h--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[n,s,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/minnikeqing/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,r=n[0],a=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(l)var h=l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(h)},n=self["webpackChunkkeqing"]=self["webpackChunkkeqing"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(5137)}));n=i.O(n)})();
//# sourceMappingURL=app.aa397378.js.map